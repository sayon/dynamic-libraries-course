\definecolor{c1}{HTML}{732A83}
\definecolor{c2}{HTML}{B1355B}
\definecolor{c3}{HTML}{6DB135}
\definecolor{c4}{HTML}{B4C23B}
\definecolor{commentgreengray}{HTML}{387c00}


\definecolor{sbase03}{HTML}{002B36}
\definecolor{sbase02}{HTML}{073642}
\definecolor{sbase01}{HTML}{586E75}
\definecolor{sbase00}{HTML}{657B83}
\definecolor{sbase0}{HTML}{839496}
\definecolor{sbase1}{HTML}{93A1A1}
\definecolor{sbase2}{HTML}{EEE8D5}
\definecolor{sbase3}{HTML}{FDF6E3}
\definecolor{syellow}{HTML}{b58900}
\definecolor{sorange}{HTML}{CB4B16}
\definecolor{sred}{HTML}{DC322F}
\definecolor{smagenta}{HTML}{D33682}
\definecolor{sviolet}{HTML}{6C71C4}
\definecolor{sblue}{HTML}{268BD2}
\definecolor{scyan}{HTML}{2AA198}
\definecolor{sgreen}{HTML}{859900}

\lstdefinelanguage{cc}{ 
mathescape=false,
upquote=true,
%
% Comments may or not include Latex commands
texcl=false, 
% 
% types 
morekeywords=[1]{ int, short, signed, unsigned, static, extern, auto, register, 
long, char, float, double, ssize_t, size_t, bool,
ptrdiff_t, void, const, typedef, int8_t, uint8_t, int16_t, uint16_t, int32_t,
uint32_t, int64_t, uint64_t, restrict, volatile, struct, union, enum,
FILE, off_t },
% keywords
morekeywords=[2]{ goto, switch, case, default, if, else, for, do, while,
return, break, continue },
% directives
morekeywords=[3]{ define, ifdef, ifndef, elif, if, endif, include, __attribute__, pragma }, 
morekeywords=[4]{ _Generic, typeof, sizeof, NULL, true, false, _Alignas, _Alignof, alignas, alignof, asm },
morecomment=[l]{//},
morecomment=[s]{/*}{*/},
% Spaces are not displayed as a special character
showstringspaces=false,
% String delimiters
morestring=[b]",
morestring=[d]',
% Size of tabulations
tabsize=3,
%
% Enables ASCII chars 128 to 255
extendedchars=true,
% Case sensitivity
sensitive=true,
%
% Automatic breaking of long lines
breaklines=false,
%
% Default style fors listings
basicstyle=\ttfamily , 
%
% flexible columns
%columns=[l]flexible,
% 
identifierstyle={\color{black}}, 
keywordstyle=[1]{\color{smagenta}}, 
keywordstyle=[2]{\color{sbase01}}, 
keywordstyle=[3]{\color{sred}},
keywordstyle=[4]{\color{sorange}},
stringstyle={\color{sviolet}}, 
commentstyle={\color{sbase0}\ttfamily}  
}[keywords,comments,strings]
 


%The formatting rules for the C code
%
\lstdefinestyle{customc}{frame=none,
                upquote=true,
                %columns=[l]flexible,
                basicstyle=\ttfamily,
                %keywordstyle=\color{DarkOrchid}\ttfamily,
                %identifierstyle=\color{Blue}\ttfamily,
                %stringstyle={\color{Fuchsia}\ttfamily},
                keywordstyle={\color{c2}\ttfamily},
                identifierstyle=\ttfamily,
                stringstyle={\color{c1}\ttfamily},
                commentstyle={\color{commentgreengray}\ttfamily},
                directivestyle={\color{c3}\ttfamily},
                showspaces=false, showtabs=false,showstringspaces=false
            morecomment=[l][]{\#}}

\lstnewenvironment{cexample}
{\lstset{language={cc}
%, style=customc
}}
{}


\newcommand{\cinput}[2]{
    \lstinputlisting[language={cc},
    % style=customc,
    label={lst:\detokenize{#1}.c}, 
    caption={\detokenize{#2} \texttt{\detokenize{#1}.c}}
]{\lstcurrentinputdir/#1/#1.c}
}

\newcommand{\hinput}[2]{
    \lstinputlisting[language={cc},
    %style=customc, 
    label={lst:\detokenize{#1}.h}, 
    caption={\detokenize{#2} \texttt{\detokenize{#1}.h}}
]{\lstcurrentinputdir/#1/#1.h}
}
\newcommand{\cinputlines}[4]{ 
    \lstinputlisting[language={cc},
    %style=customc, 
    label={lst:\detokenize{#1}.c}, 
    caption={\detokenize{#2} \texttt{\detokenize{#1}.c}}, 
firstline=#3, lastline=#4, firstnumber=#3]{\lstcurrentinputdir/#1/#1.c}
}


\def\c{\lstinline[language=cc
%,style=customc
]} 
